<p id="notice"><%= notice %></p>

<h1>Status</h1>

<table id="table"
  class="table table-hover"
  data-toggle="table"
  data-search="true"
  data-url=""
  data-pagination="true"
  data-show-columns="true"
  data-show-refresh="true">
  <thead>
    <tr>
      <th></th>
      <% @dates.each do |d| %>
        <th data-sortable="true"><%= get_date_name(d) %></th>
      <% end %>
      <!-- <th data-field="client_name" data-sortable="true">Total</th> -->
    </tr>
  </thead>
  <tbody>
    <% @clients.each do |c| %>
      <tr class="total_line">
        <td><%= c.name %></td>
        <% @dates.each do |d| %>
          <td><%= get_schedules_count(@schedules_per_client[c.id][d]) %></td>
        <% end %>
        <% Schedule.get_valid_status.each do |s| %>
        <tr>
          <td class="status_desc"><%= s[:desc] %></td>
          <% @dates.each do |d| %>
            <td><%= get_schedules_count_per_status(@schedules_per_client[c.id][d],s[:val]) %></td>
          <% end %>
        </tr>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
